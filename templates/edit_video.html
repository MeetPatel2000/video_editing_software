<!DOCTYPE html>
<html>
  <head>
    <title>Edit Video</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="static/stylesheets/edit_page.css"
    />
  </head>
  <body>
    <h1>Edit Video</h1>
    <h2>Uploaded Videos:</h2>
    <br /><br />

    <video id="video" width="70%" height="70%" controls>
      <source
        src="{{ url_for('play_video', filename=video)}}"
        type="video/mp4"
      />
      Your browser does not support the video tag.
    </video>
    <!--New Code-->
    <form method="POST" action="/trim_video">
      <div class="timeline-container">
        <div class="timeline">
          <div class="scrubber" id="leftScrubber"></div>
          <div class="scrubber" id="rightScrubber"></div>
        </div>
      </div>
      <br /><br />

      <input
        type="range"
        name="start_time"
        min="0"
        max="100"
        step="0.1"
        hidden
      />

      <input type="range" name="end_time" min="0" max="100" step="0.1" hidden />
      <label id="start_time_label">0 seconds</label>
      <label id="end_time_label">0 seconds</label>

      <!-- Ensure buttons don't submit form by setting type to "button" -->
      <button type="button" id="increase_start_time">
        Increase Start Time
      </button>
      <button type="button" id="decrease_start_time">
        Decrease Start Time
      </button>
      <button type="button" id="increase_end_time">Increase End Time</button>
      <button type="button" id="decrease_end_time">Decrease End Time</button>

      <input type="submit" value="Trim Video" />
    </form>

    <!--New Code-->

    <form method="POST" action="/trim_video">
      <label for="start_time">Start Time (seconds):</label>
      <input
        type="range"
        name="start_time"
        min="0"
        max="video_duration"
        step="0.1"
        required
      />
      <span id="start_time_label">0 seconds</span>
      <button type="button" id="decrease_start_time">-</button>
      <button type="button" id="increase_start_time">+</button>
      <br />
      <label for="end_time">End Time (seconds):</label>
      <input
        type="range"
        name="end_time"
        min="0"
        max="video_duration"
        step="0.1"
        required
      />
      <span id="end_time_label">0 seconds</span>
      <button type="button" id="decrease_end_time">-</button>
      <button type="button" id="increase_end_time">+</button>
      <br />
      <br />
      <input type="submit" value="Trim Video" />
    </form>

    <form method="POST" action="/trim_video">
      <label for="start_time">Start Time (seconds):</label>
      <input type="number" name="start_time" step="0.1" required />
      <br />
      <label for="end_time">End Time (seconds):</label>
      <input type="number" name="end_time" step="0.1" required />
      <br />
      <br />
      <input type="submit" value="Trim Video" /> <br /><br /><br />
      <a
        class="show-trimmed-button"
        href="{{ url_for('show_trimmed_video', filename=video) }}"
        >Show Trimmed Video</a
      >
    </form>
    <!-- Add video editing features here -->
    <script src="static/js/edit_page.js"></script>
  </body>
</html>
